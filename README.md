## 목차
1. [요구사항](#요구사항)
2. [구현](#구현)
    * [플로우 차트](#플로우-차트)
    * [기술 스택](#기술-스택)
    * [결과 스크린샷](#결과-스크린샷)
3. [기타](#기타)

## 요구사항
```text
- 회원가입은 본인 인증(이메일), 가입 두 단계로 이루어진다.
- 회원가입시 받는 정보는 이메일, 비밀번호, 사용자 이름이다.
- REST API를 제공하는 백엔드 코드를 작성한다.
- 회원 데이터는 DB에 저장한다.
```

##### [목차로 이동](#목차)

## 구현

### 플로우 차트
<img src="/img/verify_flow.png" width="450" height="800">

##### [목차로 이동](#목차)

### 기술 스택
```text
- LANGUAGE: Java
- FRAMEWORK: Spring MVC, Spring Security
- LIBRARY: Spring Data JPA
- DB: H2

회원가입은 스프링 시큐리티와 뗄 수 없다고 생각했다.
하지만 로그인 등을 신경쓰면 너무 비대해질 것 같아서 API 연동에 중점을 두었다.
DB는 편의상 H2, 공부겸 객체지향적 코드 작성을 위해 JPA를 사용했다.
```

##### [목차로 이동](#목차)

### 결과 스크린샷
<img src="/img/pic_verify.png" width="1200" height="1150">

##### [목차로 이동](#목차)

## 기타
```text
- 메일 인증을 포함한 회원 가입 프로세스는 다음 단계로 이루어진다.
  = 사용자가 입력한 메일로 인증 메일 보내기(메일 발송 API)
  = 사용자가 인증 메일 링크 클릭
  = 회원 가입
- 메일 발송 API는 위임까지가 그 역할이다.
  즉 인증 메일 발송에 대한 예외처리는 JavaMailSender만으로는 불가하다.
- 이메일 인증은 인증번호, 링크 두 방법으로 할 수 있다고 하는데,
  사용자 입장에서 전자가 좀 더 편할 거 같아서 채택했다.
- 인증 링크의 경우 GET 메소드이기 때문에 제한시간을 두어야 하나 생각했는데,
  딱히 문제될 거 같지 않아서 놔뒀다.
- 현재 인증 링크 클릭 시 서버에서 DB에 저장된 UUID와 비교해주는데,
  이게 부하가 좀 있지 않나 하는 고민이 든다.
- 이메일 형식 검증 등 밸리데이션 처리는 따로 해주지 않았다.
- Member와 Verification 두 테이블을 생성하였고 이는 일대일 연관관계다.
  Verification에서 관리하는 UUID가 사용자 정보라고 보긴 힘들 거 같아서 분리했다.
- 현재는 인증이 완료되지 않은 메일의 경우(verified=false), 무제한으로 인증 메일 발송이 가능하다.
  악용의 우려가 있기 때문에 운영시에는 발송 시간 제한 등을 두는 것이 필요하다.
- Response 객체에 @Getter 없을 때는 403 내려온다.
```

##### [목차로 이동](#목차)